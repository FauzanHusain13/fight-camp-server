<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;800&display=swap"rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>
<body class="font-[Poppins]">
    <%- include ../../partials/sidebar.ejs %>
    <div class="mt-20 px-52 mx-auto bg-white shadow p-6 rounded-lg">
        <h2 class="text-2xl font-semibold mb-4 text-red-600">Form tambah gallery</h2>
        <form action="/gallery/edit/<%= gallery._id %>?_method=PUT" method="POST" enctype="multipart/form-data" class="mt-12 flex justify-start gap-4">
            <div class="">
              <img src="http://localhost:8000/uploads/gallery/<%= gallery.image %>" id="perview" class="w-[300px] h-[300px]">
            </div>
            <div>
              <div class="mb-6">
                <label class="block text-gray-700 font-semibold mb-2" for="title">
                  Masukkan judul
                </label>
                <input id="title" name="title" type="text" value="<%= gallery.title %>" placeholder="Masukkan judul" class="appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline-red-600">
              </div>
              <div class="mb-10">
                <input type="file" name="image" id="image" value="<%= gallery.image %>" class="form-control" placeholder="Masukkan image"  class="appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline-red-600" />
                <br />
              </div>
  
              <div class="flex items-center justify-between">
                <button class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded focus:outline-none focus:shadow-outline-red-600" type="submit">
                  Simpan
                </button>
              </div>
            </div>
        </form>
    </div>
    <%- include ../../partials/functionSidebar.ejs %>
    <script>
      const imageInput = document.getElementById('image');
      const previewImg = document.getElementById('perview');

      imageInput.addEventListener('change', function() {
        const file = this.files[0];
        if (file) {
          const reader = new FileReader();
          reader.addEventListener('load', function() {
            previewImg.setAttribute('src', this.result);
          });
          reader.readAsDataURL(file);
        }
      });
    </script>
</body>
</html>